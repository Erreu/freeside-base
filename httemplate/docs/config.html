<head>
  <title>Configuration files</title>
</head>
<body>
  <h1>Configuration files</h1>
<font size="+1" color="#ff0000">Configuration is now done by the top-level Makefile and web interface.  The instructions below are no longer necessary.</font>
<ul>
  <li>Create the <b>/usr/local/etc/freeside</b> directory to hold your configuration.
  <li>Setting up <a href="http://www.apache.org/docs/misc/FAQ.html#user-authentication">Apache user authetication</a> is mandatory.
  <li>Create the <b>/usr/local/etc/freeside/mapsecrets</b> file, which maps Apache users to a secrets file which contains a DBI data source, username and password.  Every
line in <b>/usr/local/etc/freeside/mapsecrets</b> should contain a username and
filename, separated by whitespace.  Note that these are not local usernames -
they are passed from Apache.  <a href="http://www.apache.org/docs/misc/FAQ.html#user-authentication">
Apache user authetication</a> is mandatory.  For example, if you had the Apache users admin,
john, and sam,  
you mapsecrets file might look like:
<pre>
admin secretfile
john secretfile
sam secretfile
</pre>
  <li>Next, the filename(s) referenced in <b>/usr/local/etc/freeside/mapsecrets</b> file should be created in the <b>/usr/local/etc/freeside/</b> directory.  Each file contains three lines: <a href="http://search.cpan.org/doc/TIMB/DBI-1.20/DBI.pm">DBI data source</a> (for example,
  <tt>DBI:mysql:freeside</tt> or <tt>DBI:Pg:host=localhost;dbname=freeside</tt>), database username, and database password.
  These files should not be world readable.  See the <a href="http://search.cpan.org/doc/TIMB/DBI-1.20/DBI.pm">DBI manpage</a> and the <a href="http://search.cpan.org/search?mode=module&query=DBD">manpage for your DBD</a> for the exact syntax of a DBI data source.  In a normal installation such as the example above, a single file <b>/usr/local/etc/freeside/secretfile</b> would be created - for example:
<pre>
DBI:Pg:host=localhost;dbname=freeside
dbusername
dbpassword
</pre>
<li>Create the <b>/usr/local/etc/freeside/conf.<i>datasource</i></b> directory, for example, <b>/usr/local/etc/freeside/conf.DBI:Pg:host=localhost;dbname=freeside</b> (remember to backslash-escape the ; character when creating directories in the shell:
<pre>mkdir&nbsp;/usr/local/etc/freeside/conf.DBI:Pg:host=localhost\;dbname=freeside
</pre>
<li>The rest of the configuration can be done with the web interface.  Select <u>Configuration</u> from the main menu and update your configuration values.
</ul>
</body>
</html>

<head>
  <title>Importing legacy data</title>
</head>
<body>
  <h1>Importing legacy data</h1>
<font size="+2">In almost all cases, legacy data import will require writing custom code to deal with your particular legacy data.  The example scripts here will probably <b>not</b> work "out-of-the-box", and are provided <b>as a starting point only</b>.</font>
<br><br><i>Some import scripts may require installation of the <a href="http://search.cpan.org/search?dist=Array-PrintCols">Array-PrintCols</a> and <a href="http://search.cpan.org/search?dist=Term-Query">Term-Query</a> (make test broken; install manually) modules.</i><br>
<ul>
  <li><a name="bind">bin/bind.import</a> - Import domain information from BIND named
  <li><a name="passwd">bin/passwd.import</a> - Just import `passwd' and `shadow' or `master.passwd', no RADIUS import.
  <li><a name="svc_acct">bin/svc_acct.import</a> - Import `passwd', ( `shadow' or `master.passwd' ) and RADIUS `users'.  Before running bin/svc_acct.import, you need <a href="../browse/part_svc.cgi">services</a> (with table svc_acct) as follows:
    <ul>
      <li>Most accounts probably have entries in passwd and users (with Port-Limit nonexistant or 1)
      <li>Some accounts have entries in passwd and users, but with Port-Limit 2 (or more)
      <li>Some accounts might have entries in users only (Port-Limit 1)
      <li>Some accounts might have entries in users only (Port-Limit >= 2)
      <li>POP mail accounts have entries in passwd only, and have a particular shell.
      <li>Everything else in passwd is a shell account.
    </ul>
  <li><a name="svc_acct_sm">bin/svc_acct_sm.import</a> - Import qmail ( `virtualdomains' and `rcpthosts' ), or sendmail ( `virtusertable' and `sendmail.cw' ) files.  Before running bin/svc_acct_sm.import, you need <a href="../browse/part_svc.cgi">services</a> as follows:
    <ul>
      <li>Domain (table svc_acct)
      <li>Mail alias (table svc_acct_sm)
    </ul>
  <li><a name="cust_main">Importing customer data</a>
    <ul>
      <li>Manually
        <ul>
          <li>Add a <a href="../edit/cust_main.cgi">new customer</a>
          <li>Add one or more packages for this customer
          <li>Enter a package by clicking on the package number
          <li>Pick the `Link to existing' option
        </ul>
      <li>Batch - You will need to write a script to import your particular legacy data.  You can use eg/TEMPLATE_cust_main.import as a starting point.
    </ul>
</ul>
</body>

